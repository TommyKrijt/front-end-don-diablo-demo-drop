[{"/Users/Tommy/WebstormProjects/front-end-don-diablo-demo-drop/src/index.js":"1","/Users/Tommy/WebstormProjects/front-end-don-diablo-demo-drop/src/App.js":"2","/Users/Tommy/WebstormProjects/front-end-don-diablo-demo-drop/src/reportWebVitals.js":"3","/Users/Tommy/WebstormProjects/front-end-don-diablo-demo-drop/src/components/navBar/NavBar.js":"4","/Users/Tommy/WebstormProjects/front-end-don-diablo-demo-drop/src/pages/home/Home.js":"5","/Users/Tommy/WebstormProjects/front-end-don-diablo-demo-drop/src/components/header/Header.js":"6","/Users/Tommy/WebstormProjects/front-end-don-diablo-demo-drop/src/components/footer/Footer.js":"7","/Users/Tommy/WebstormProjects/front-end-don-diablo-demo-drop/src/pages/uploadPage/Upload.js":"8","/Users/Tommy/WebstormProjects/front-end-don-diablo-demo-drop/src/components/button/Button.js":"9","/Users/Tommy/WebstormProjects/front-end-don-diablo-demo-drop/src/pages/profile/Profile.js":"10","/Users/Tommy/WebstormProjects/front-end-don-diablo-demo-drop/src/pages/signIn/SignIn.js":"11","/Users/Tommy/WebstormProjects/front-end-don-diablo-demo-drop/src/components/input/Input.js":"12","/Users/Tommy/WebstormProjects/front-end-don-diablo-demo-drop/src/pages/signUp/SignUp.js":"13","/Users/Tommy/WebstormProjects/front-end-don-diablo-demo-drop/src/pages/dashboard/Dashboard.js":"14","/Users/Tommy/WebstormProjects/front-end-don-diablo-demo-drop/src/components/context/AuthContext.js":"15"},{"size":736,"mtime":1612459261642,"results":"16","hashOfConfig":"17"},{"size":1026,"mtime":1612458946805,"results":"18","hashOfConfig":"17"},{"size":362,"mtime":1611141139707,"results":"19","hashOfConfig":"17"},{"size":1029,"mtime":1612365982556,"results":"20","hashOfConfig":"17"},{"size":617,"mtime":1612020811309,"results":"21","hashOfConfig":"17"},{"size":407,"mtime":1611756468560,"results":"22","hashOfConfig":"17"},{"size":352,"mtime":1611761277776,"results":"23","hashOfConfig":"17"},{"size":1140,"mtime":1612358336903,"results":"24","hashOfConfig":"17"},{"size":223,"mtime":1612179689371,"results":"25","hashOfConfig":"17"},{"size":840,"mtime":1612462615378,"results":"26","hashOfConfig":"17"},{"size":3220,"mtime":1612470420621,"results":"27","hashOfConfig":"17"},{"size":529,"mtime":1612363363250,"results":"28","hashOfConfig":"17"},{"size":3416,"mtime":1612471394487,"results":"29","hashOfConfig":"17"},{"size":465,"mtime":1612458871949,"results":"30","hashOfConfig":"17"},{"size":2385,"mtime":1612459201486,"results":"31","hashOfConfig":"17"},{"filePath":"32","messages":"33","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"34"},"6z4mj0",{"filePath":"35","messages":"36","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"34"},{"filePath":"37","messages":"38","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"34"},{"filePath":"39","messages":"40","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"34"},{"filePath":"41","messages":"42","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"34"},{"filePath":"43","messages":"44","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"34"},{"filePath":"45","messages":"46","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"34"},{"filePath":"47","messages":"48","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"34"},{"filePath":"49","messages":"50","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"34"},{"filePath":"51","messages":"52","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"34"},{"filePath":"53","messages":"54","errorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"55","usedDeprecatedRules":"34"},{"filePath":"56","messages":"57","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"34"},{"filePath":"58","messages":"59","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"60","messages":"61","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"34"},{"filePath":"62","messages":"63","errorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"64","usedDeprecatedRules":"34"},"/Users/Tommy/WebstormProjects/front-end-don-diablo-demo-drop/src/index.js",[],["65","66"],"/Users/Tommy/WebstormProjects/front-end-don-diablo-demo-drop/src/App.js",[],"/Users/Tommy/WebstormProjects/front-end-don-diablo-demo-drop/src/reportWebVitals.js",[],"/Users/Tommy/WebstormProjects/front-end-don-diablo-demo-drop/src/components/navBar/NavBar.js",[],"/Users/Tommy/WebstormProjects/front-end-don-diablo-demo-drop/src/pages/home/Home.js",[],"/Users/Tommy/WebstormProjects/front-end-don-diablo-demo-drop/src/components/header/Header.js",[],"/Users/Tommy/WebstormProjects/front-end-don-diablo-demo-drop/src/components/footer/Footer.js",[],"/Users/Tommy/WebstormProjects/front-end-don-diablo-demo-drop/src/pages/uploadPage/Upload.js",[],"/Users/Tommy/WebstormProjects/front-end-don-diablo-demo-drop/src/components/button/Button.js",[],"/Users/Tommy/WebstormProjects/front-end-don-diablo-demo-drop/src/pages/profile/Profile.js",[],"/Users/Tommy/WebstormProjects/front-end-don-diablo-demo-drop/src/pages/signIn/SignIn.js",["67"],"import React, {useContext, useEffect, useState} from \"react\";\nimport \"./styles.css\"\nimport Footer from \"../../components/footer/Footer\";\nimport Header from \"../../components/header/Header\";\nimport Button from \"../../components/button/Button\";\nimport Input from \"../../components/input/Input\";\nimport {Link, useHistory} from \"react-router-dom\";\nimport {AuthContext, useAuthState} from \"../../components/context/AuthContext\";\nimport axios from \"axios\";\n\n\n\nfunction SignIn() {\n\n    const { login } = useContext(AuthContext);\n    const { isAuthenticated } = useAuthState();\n\n    // state voor invoervelden (omdat het formulier met Controlled Components werkt!)\n    const [username, setUsername] = useState('');\n    const [password, setPassword] = useState('');\n\n    // react-router dingen\n    const history = useHistory();\n\n    // Deze functie wordt elke keer afgevuurd als isAuthenticated (uit context) veranderd\n    useEffect(() => {\n        // als hij de waarde true heeft, DAN sturen we de gebruiker door!\n        if (isAuthenticated === true) {\n            history.push('/');\n        }\n    }, [isAuthenticated]);\n\n    async function onSubmit(event) {\n        // deze hoeft alleen als je controlled components gebruikt\n        event.preventDefault();\n\n        try {\n            const response = await axios.post('localhost:5432/postgres', {\n                username: username,\n                password: password,\n            })\n\n            // We roepen hier de context-functie \"login\" aan. De context gaat dan met de data die we hebben\n            // teruggekregen alles op de juiste manier in localstorage en state zetten!\n            login(response.data);\n        } catch(e) {\n            // Gaat het mis? Log het in de console!\n            console.error(e);\n        }\n    }\n\n    return (\n        <>\n            <div className=\"page-container\">\n                <Header/>\n                <div className=\"sign-in-form-container\">\n                    <form className=\"sign-in-form\" onSubmit={onSubmit}>\n                        <h1 className=\"sign-in-title\">sign in</h1>\n                        <div className=\"sign-in-form-items\">\n                            <Input htmlFor=\"username-field\"\n                                   type=\"text\"\n                                   value={username}\n                                   onChange={(e) => setUsername(e.target.value)}>\n                                username\n                            </Input>\n                            <Input type=\"password\"\n                                   value={password}\n                                   onChange={(e) => setPassword(e.target.value)} >\n                                password\n                            </Input>\n                            <Button className=\"sign-in-button\"\n                                    type=\"submit\">sign in</Button>\n                            <p className=\"sign-up-link\">Don't have an account?</p>\n                            <Link className=\"sign-up-link\" to=\"/sign-up\"><strong> Create an account here.</strong></Link>\n                        </div>\n                    </form>\n                </div>\n                <Footer/>\n            </div>\n        </>\n    );\n}\n\nexport default SignIn;","/Users/Tommy/WebstormProjects/front-end-don-diablo-demo-drop/src/components/input/Input.js",[],"/Users/Tommy/WebstormProjects/front-end-don-diablo-demo-drop/src/pages/signUp/SignUp.js",[],"/Users/Tommy/WebstormProjects/front-end-don-diablo-demo-drop/src/pages/dashboard/Dashboard.js",[],"/Users/Tommy/WebstormProjects/front-end-don-diablo-demo-drop/src/components/context/AuthContext.js",["68"],"import React, { createContext, useContext, useEffect, useState } from 'react';\n\nconst AuthContext = createContext({});\n\nfunction AuthContextProvider({ children }) {\n    const [authState, setAuthState] = useState({\n        status: 'pending',\n        error: null,\n        user: null,\n    })\n\n    useEffect(() => {\n        // haal uit de local storage de JWT Token\n        // Als die er niet is, kunnen we gewoon verder\n        // Als die token er wel is, dan betekend dat dat de applicatie herstart is\n        // En dan willen we nog even onze gebruikersdata (username, etc.) ophalen.\n\n        setTimeout(() => {\n            // er is geen token, dus we beginnen met een schone lei!\n            setAuthState({\n                ...authState,\n                status: 'done',\n            })\n        }, 2000)\n    }, []);\n\n    function login(data) {\n        // 1. de token willen we in de local storage zetten\n        localStorage.setItem('token', data.accessToken);\n\n        // 2. de user-informatie willen we in de context zetten\n        setAuthState({\n            ...authState,\n            user: {\n                username: data.username,\n                email: data.email,\n                roles: data.roles,\n            }\n        })\n\n        // 3. als dat allemaal gelukt is, willen we doorgelinkt worden naar de profielpagina!\n        // Dit doen we in het component dat deze functie aanroept, zelf!\n    }\n\n    function logout() {\n        //maak local storage leeg\n        localStorage.clear();\n        //haal user uit contextState\n        setAuthState({\n            ...authState,\n            user: null,\n        })\n    }\n\n\n    return (\n        <AuthContext.Provider value={{ ...authState, login, logout }}>\n            {authState.status === 'done' && children}\n            {authState.status === 'pending' && <p>Loading...</p>}\n        </AuthContext.Provider>\n    );\n}\n\nfunction useAuthState() {\n    const authState = useContext(AuthContext);\n\n    // iemand is geauthoriseerd wanneer de status === 'done'\n    // en als er een gebruiker in de authState staat\n    const isDone = authState.status === 'done';\n    const isAuthenticated = authState.user !== null && isDone;\n\n    // console.log('Ik ben authenticated:', isAuthenticated);\n\n    return {\n        ...authState,\n        isAuthenticated: isAuthenticated,\n    }\n}\n\nexport {\n    AuthContext,\n    useAuthState,\n    AuthContextProvider,\n}",{"ruleId":"69","replacedBy":"70"},{"ruleId":"71","replacedBy":"72"},{"ruleId":"73","severity":1,"message":"74","line":31,"column":8,"nodeType":"75","endLine":31,"endColumn":25,"suggestions":"76"},{"ruleId":"73","severity":1,"message":"77","line":25,"column":8,"nodeType":"75","endLine":25,"endColumn":10,"suggestions":"78"},"no-native-reassign",["79"],"no-negated-in-lhs",["80"],"react-hooks/exhaustive-deps","React Hook useEffect has a missing dependency: 'history'. Either include it or remove the dependency array.","ArrayExpression",["81"],"React Hook useEffect has a missing dependency: 'authState'. Either include it or remove the dependency array. You can also do a functional update 'setAuthState(a => ...)' if you only need 'authState' in the 'setAuthState' call.",["82"],"no-global-assign","no-unsafe-negation",{"desc":"83","fix":"84"},{"desc":"85","fix":"86"},"Update the dependencies array to be: [history, isAuthenticated]",{"range":"87","text":"88"},"Update the dependencies array to be: [authState]",{"range":"89","text":"90"},[1094,1111],"[history, isAuthenticated]",[808,810],"[authState]"]