[{"/Users/Tommy/WebstormProjects/front-end-don-diablo-demo-drop/src/index.js":"1","/Users/Tommy/WebstormProjects/front-end-don-diablo-demo-drop/src/App.js":"2","/Users/Tommy/WebstormProjects/front-end-don-diablo-demo-drop/src/reportWebVitals.js":"3","/Users/Tommy/WebstormProjects/front-end-don-diablo-demo-drop/src/components/navBar/NavBar.js":"4","/Users/Tommy/WebstormProjects/front-end-don-diablo-demo-drop/src/pages/home/Home.js":"5","/Users/Tommy/WebstormProjects/front-end-don-diablo-demo-drop/src/components/header/Header.js":"6","/Users/Tommy/WebstormProjects/front-end-don-diablo-demo-drop/src/components/footer/Footer.js":"7","/Users/Tommy/WebstormProjects/front-end-don-diablo-demo-drop/src/pages/uploadPage/Upload.js":"8","/Users/Tommy/WebstormProjects/front-end-don-diablo-demo-drop/src/components/button/Button.js":"9","/Users/Tommy/WebstormProjects/front-end-don-diablo-demo-drop/src/pages/profile/Profile.js":"10","/Users/Tommy/WebstormProjects/front-end-don-diablo-demo-drop/src/pages/signIn/SignIn.js":"11","/Users/Tommy/WebstormProjects/front-end-don-diablo-demo-drop/src/components/input/Input.js":"12","/Users/Tommy/WebstormProjects/front-end-don-diablo-demo-drop/src/pages/signUp/SignUp.js":"13","/Users/Tommy/WebstormProjects/front-end-don-diablo-demo-drop/src/pages/dashboard/Dashboard.js":"14","/Users/Tommy/WebstormProjects/front-end-don-diablo-demo-drop/src/components/context/AuthContext.js":"15","/Users/Tommy/WebstormProjects/front-end-don-diablo-demo-drop/src/components/privateRoute/PrivateRoute.js":"16","/Users/Tommy/WebstormProjects/front-end-don-diablo-demo-drop/src/components/itemCard/ItemCard.js":"17","/Users/Tommy/WebstormProjects/front-end-don-diablo-demo-drop/src/pages/details/DetailPage.js":"18"},{"size":736,"mtime":1612459261642,"results":"19","hashOfConfig":"20"},{"size":1383,"mtime":1614113997138,"results":"21","hashOfConfig":"20"},{"size":362,"mtime":1611141139707,"results":"22","hashOfConfig":"20"},{"size":1029,"mtime":1613482952228,"results":"23","hashOfConfig":"20"},{"size":459,"mtime":1612870035676,"results":"24","hashOfConfig":"20"},{"size":491,"mtime":1614107588468,"results":"25","hashOfConfig":"20"},{"size":352,"mtime":1611761277776,"results":"26","hashOfConfig":"20"},{"size":4046,"mtime":1614251722629,"results":"27","hashOfConfig":"20"},{"size":300,"mtime":1613486019613,"results":"28","hashOfConfig":"20"},{"size":2217,"mtime":1614116178446,"results":"29","hashOfConfig":"20"},{"size":2597,"mtime":1613834568188,"results":"30","hashOfConfig":"20"},{"size":670,"mtime":1614243501196,"results":"31","hashOfConfig":"20"},{"size":3454,"mtime":1613485763368,"results":"32","hashOfConfig":"20"},{"size":1638,"mtime":1614109284262,"results":"33","hashOfConfig":"20"},{"size":2956,"mtime":1614119854974,"results":"34","hashOfConfig":"20"},{"size":408,"mtime":1613555268543,"results":"35","hashOfConfig":"20"},{"size":723,"mtime":1614109284248,"results":"36","hashOfConfig":"20"},{"size":2382,"mtime":1614119888333,"results":"37","hashOfConfig":"20"},{"filePath":"38","messages":"39","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"40"},"6z4mj0",{"filePath":"41","messages":"42","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"40"},{"filePath":"43","messages":"44","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"40"},{"filePath":"45","messages":"46","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"40"},{"filePath":"47","messages":"48","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"40"},{"filePath":"49","messages":"50","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"40"},{"filePath":"51","messages":"52","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"53"},{"filePath":"54","messages":"55","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"56","messages":"57","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"40"},{"filePath":"58","messages":"59","errorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"60","usedDeprecatedRules":"40"},{"filePath":"61","messages":"62","errorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"63","usedDeprecatedRules":"40"},{"filePath":"64","messages":"65","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"66","messages":"67","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"40"},{"filePath":"68","messages":"69","errorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"70","usedDeprecatedRules":"40"},{"filePath":"71","messages":"72","errorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"73","usedDeprecatedRules":"40"},{"filePath":"74","messages":"75","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"40"},{"filePath":"76","messages":"77","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"40"},{"filePath":"78","messages":"79","errorCount":0,"warningCount":2,"fixableErrorCount":0,"fixableWarningCount":0,"source":"80","usedDeprecatedRules":"40"},"/Users/Tommy/WebstormProjects/front-end-don-diablo-demo-drop/src/index.js",[],["81","82"],"/Users/Tommy/WebstormProjects/front-end-don-diablo-demo-drop/src/App.js",[],"/Users/Tommy/WebstormProjects/front-end-don-diablo-demo-drop/src/reportWebVitals.js",[],"/Users/Tommy/WebstormProjects/front-end-don-diablo-demo-drop/src/components/navBar/NavBar.js",[],"/Users/Tommy/WebstormProjects/front-end-don-diablo-demo-drop/src/pages/home/Home.js",[],"/Users/Tommy/WebstormProjects/front-end-don-diablo-demo-drop/src/components/header/Header.js",[],"/Users/Tommy/WebstormProjects/front-end-don-diablo-demo-drop/src/components/footer/Footer.js",[],["83","84"],"/Users/Tommy/WebstormProjects/front-end-don-diablo-demo-drop/src/pages/uploadPage/Upload.js",[],"/Users/Tommy/WebstormProjects/front-end-don-diablo-demo-drop/src/components/button/Button.js",[],"/Users/Tommy/WebstormProjects/front-end-don-diablo-demo-drop/src/pages/profile/Profile.js",["85"],"import React, { useEffect, useState}from 'react';\nimport { useAuthState } from '../../components/context/AuthContext';\nimport \"./styles.css\"\nimport Button from \"../../components/button/Button\";\nimport axios from \"axios\";\nimport {useParams} from \"react-router\";\n\nfunction Profile() {\n    const { user, logout } = useAuthState();\n\n    const [error, setError] = useState('');\n    const [protectedData, setProtectedData] = useState('');\n\n    useEffect(() => {\n        async function getProtectedData() {\n            setError('');\n            try {\n                const token = localStorage.getItem('token');\n                const response = await axios.get(`http://localhost:8080/api/users/`, {\n                    headers: {\n                        \"Content-Type\": \"application/json\",\n                        Authorization: `Bearer ${token}`,\n                    }\n                });\n                setProtectedData(response.data[0]);\n                console.log(response);\n            } catch(e) {\n                setError('Something went wrong while fetching data')\n            }\n        }\n        getProtectedData();\n    }, []);\n\n    return (\n        <>\n            <div className=\"page-container\">\n                <div className=\"page-content\">\n                    <h1 className=\"profile-title\">profile</h1>\n                    {user && protectedData &&\n                    <>\n                        <div className=\"profile-information\">\n                            <p className=\"profile-information-title\">username</p>\n                            <p className=\"profile-information-user\">{user.username}</p>\n                            <p className=\"profile-information-title\">email</p>\n                            <p className=\"profile-information-user\">{user.email}</p>\n                        </div>\n                        <Button onClick={() => logout()}>logout</Button>\n                    </>}\n                    {error && <p className=\"message-error\">{error}</p>}\n                    {!user &&\n                    <p>Please <a href=\"/sign-in\"><strong>sign in</strong></a>to view this page!</p>\n                    }\n                </div>\n            </div>\n        </>\n    );\n}\n\nexport default Profile;","/Users/Tommy/WebstormProjects/front-end-don-diablo-demo-drop/src/pages/signIn/SignIn.js",["86"],"import React, {useContext, useEffect, useState} from \"react\";\nimport \"./styles.css\"\nimport Button from \"../../components/button/Button\";\nimport Input from \"../../components/input/Input\";\nimport {Link, useHistory} from \"react-router-dom\";\nimport {AuthContext, useAuthState} from \"../../components/context/AuthContext\";\nimport axios from \"axios\";\n\n\n\nfunction SignIn() {\n\n    const { login } = useContext(AuthContext);\n    const { isAuthenticated } = useAuthState();\n    const [username, setUsername] = useState('');\n    const [password, setPassword] = useState('');\n    const history = useHistory();\n\n    useEffect(() => {\n        if (isAuthenticated === true) {\n            history.push('/');\n        }\n    }, [isAuthenticated]);\n\n    async function onSubmit(event) {\n        event.preventDefault();\n\n        try {\n            const response = await axios.post('http://localhost:8080/api/auth/signin', {\n                username: username,\n                password: password,\n            })\n            login(response.data);\n            console.log(response.data);\n        } catch(e) {\n            console.error(e);\n        }\n    }\n\n    return (\n        <>\n            <div className=\"page-container\">\n                <div className=\"sign-in-form-container\">\n                    <form className=\"sign-in-form\"\n                          onSubmit={onSubmit}>\n                        <h1 className=\"sign-in-title\">sign in</h1>\n                        <div className=\"sign-in-form-items\">\n                            <Input id=\"username-field\"\n                                   type=\"text\"\n                                   value={username}\n                                   onChange={(e) => setUsername(e.target.value)}>\n                                username\n                            </Input>\n                            <Input id=\"password-field\"\n                                   type=\"password\"\n                                   value={password}\n                                   onChange={(e) => setPassword(e.target.value)} >\n                                password\n                            </Input>\n                            <Button className=\"sign-in-button\"\n                                    type=\"submit\">sign in</Button>\n                            <p className=\"sign-up-link\">Don't have an account?</p>\n                            <Link className=\"sign-up-link\" to=\"/sign-up\"><strong> Create an account here.</strong></Link>\n                        </div>\n                    </form>\n                </div>\n            </div>\n        </>\n    );\n}\n\nexport default SignIn;","/Users/Tommy/WebstormProjects/front-end-don-diablo-demo-drop/src/components/input/Input.js",[],"/Users/Tommy/WebstormProjects/front-end-don-diablo-demo-drop/src/pages/signUp/SignUp.js",[],"/Users/Tommy/WebstormProjects/front-end-don-diablo-demo-drop/src/pages/dashboard/Dashboard.js",["87"],"import React, {useEffect, useState} from \"react\";\nimport \"./styles.css\"\nimport ItemCard from \"../../components/itemCard/ItemCard\";\nimport axios from \"axios\";\n\n\nfunction Dashboard() {\n    const [uploads, setUploads] = useState([]);\n    const [error, setError] = useState('');\n\n    useEffect(() => {\n        async function getProtectedData() {\n            setError('');\n            try {\n                const token = localStorage.getItem('token');\n                const response = await axios.get(`http://localhost:8080/api/uploads/`, {\n                    headers: {\n                        \"Content-Type\": \"application/json\",\n                        Authorization: `Bearer ${token}`,\n                    }\n                })\n                setUploads(response.data);\n                console.log(response.data);\n            } catch(e) {\n                setError('Something went wrong while fetching data')\n            }\n        }\n        getProtectedData();\n    }, []);\n    return (\n        <>\n            <div className=\"dashboard-page-container\">\n                <div className=\"page-card-container\">\n                    {uploads.map((upload)=>{\n                        return <ItemCard title={upload.song}\n                                         message={upload.message}\n                                         key={upload.id}\n                                         children=\"open\"\n                                         download=\"download\"\n                                         link={`/uploads/${upload.id}`}/>\n                    })}\n                </div>\n            </div>\n        </>\n    );\n}\n\nexport default Dashboard;","/Users/Tommy/WebstormProjects/front-end-don-diablo-demo-drop/src/components/context/AuthContext.js",["88"],"import React, { createContext, useContext, useEffect, useState } from 'react';\nimport axios from \"axios\";\n\nconst AuthContext = createContext({});\n\nfunction AuthContextProvider({ children }) {\n    const [admin, setAdmin] = useState(false);\n    const [authState, setAuthState] = useState({\n        status: 'pending',\n        error: null,\n        user: null,\n    })\n\n    useEffect(() => {\n        const token = localStorage.getItem('token');\n\n        async function getUserInfo() {\n            try {\n                const response = await axios.get('http://localhost:8080/api/users/', {\n                        headers: {\n                            \"Content-Type\": \"application/json\",\n                            Authorization: `Bearer ${token}`,\n                        },\n                    }\n                );\n\n                setAuthState({\n                    ...authState,\n                    user: {\n                        id: response.id,\n                        username: response.username,\n                        email: response.email,\n                    },\n                    status: 'done',\n                });\n\n            } catch (e) {\n                setAuthState({\n                    ...authState,\n                    user: null,\n                    error: e,\n                    status: 'done'\n                });\n            }\n        }\n\n        if (authState.user === null && token) {\n            getUserInfo();\n        } else {\n            setAuthState({\n                ...authState,\n                error: null,\n                user: null,\n                status: 'done'\n            });\n        }\n    }, []);\n\n    function login(data) {\n        localStorage.setItem('token', data.accessToken);\n        setAuthState({\n            ...authState,\n            user: {\n                username: data.username,\n                email: data.email,\n                roles: data.roles,\n            }\n        })\n        isAdmin(data.roles);\n    }\n\n    function isAdmin(data) {\n        if (data.roles[0].includes(\"ROLE_ADMIN\")) {\n            setAdmin(true);\n        } else {\n            setAdmin(false);\n        }\n    }\n\n    function logout() {\n        localStorage.clear();\n        setAuthState({\n            ...authState,\n            user: null,\n        })\n        setAdmin(false);\n    }\n\n    function getAdmin() {\n        return admin;\n    }\n\n\n    return (\n        <AuthContext.Provider value={{ ...authState, login, logout, getAdmin}}>\n            {authState.status === 'done' && children}\n            {authState.status === 'pending' && <p>Loading...</p>}\n        </AuthContext.Provider>\n    );\n}\n\nfunction useAuthState() {\n    const authState = useContext(AuthContext);\n    const isDone = authState.status === 'done';\n    const isAuthenticated = authState.user !== null && isDone;\n\n    return {\n        ...authState,\n        isAuthenticated: isAuthenticated,\n    }\n}\n\nexport {\n    AuthContext,\n    useAuthState,\n    AuthContextProvider,\n}","/Users/Tommy/WebstormProjects/front-end-don-diablo-demo-drop/src/components/privateRoute/PrivateRoute.js",[],"/Users/Tommy/WebstormProjects/front-end-don-diablo-demo-drop/src/components/itemCard/ItemCard.js",[],"/Users/Tommy/WebstormProjects/front-end-don-diablo-demo-drop/src/pages/details/DetailPage.js",["89","90"],"import React, {useEffect, useState} from \"react\";\nimport \"./styles.css\"\nimport axios from \"axios\";\nimport {useParams} from \"react-router\";\nimport Button from \"../../components/button/Button\";\nimport {useAuthState} from \"../../components/context/AuthContext\";\n\nfunction DetailPage() {\n    const {id} = useParams();\n    const [error, setError] = useState('');\n    const [upload, setUpload] = useState([]);\n    const {isAdmin} = useAuthState();\n\n    useEffect(() => {\n        getUpload();\n    }, [])\n\n    async function getUpload() {\n        setError('');\n        try {\n            const token = localStorage.getItem('token');\n            const response = await axios.get(`http://localhost:8080/api/uploads/${id}`, {\n                headers: {\n                    \"Content-Type\": \"application/json\",\n                    Authorization: `Bearer ${token}`,\n                }\n            });\n            setUpload(response.data);\n            console.log(response.data)\n        } catch (e) {\n            setError(\"Something went wrong\")\n        }\n    }\n\n\n\n    return (\n        <>\n            <div className=\"detail-page-container\">\n                <div className=\"details\">\n                    <div className=\"details-title\">\n                        <h1>{upload.song}</h1>\n                    </div>\n                    <div className=\"details-description\">\n                        <p>{upload.message}</p>\n                    </div>\n                    {isAdmin ? (\n                        <>\n                            <div className=\"details-feedback\">\n                                <Button>Feedback 1</Button>\n                                <Button>Feedback 2</Button>\n                            </div>\n                            <div className=\"details-feedback-container\">\n                                <label className=\"details-feedback-title\">Feedback</label>\n                                <textarea className=\"details-feedback-comment\"\n                                          name=\"feedback\"\n                                          rows=\"6\"\n                                />\n                            </div>\n                        </>\n                    ) : (\n                        <p>An admin will provide you with feedback, check back later.</p>\n                    )}\n                </div>\n            </div>\n        </>\n    );\n}\n\nexport default DetailPage;",{"ruleId":"91","replacedBy":"92"},{"ruleId":"93","replacedBy":"94"},{"ruleId":"91","replacedBy":"95"},{"ruleId":"93","replacedBy":"96"},{"ruleId":"97","severity":1,"message":"98","line":6,"column":9,"nodeType":"99","messageId":"100","endLine":6,"endColumn":18},{"ruleId":"101","severity":1,"message":"102","line":23,"column":8,"nodeType":"103","endLine":23,"endColumn":25,"suggestions":"104"},{"ruleId":"97","severity":1,"message":"105","line":9,"column":12,"nodeType":"99","messageId":"100","endLine":9,"endColumn":17},{"ruleId":"101","severity":1,"message":"106","line":57,"column":8,"nodeType":"103","endLine":57,"endColumn":10,"suggestions":"107"},{"ruleId":"97","severity":1,"message":"105","line":10,"column":12,"nodeType":"99","messageId":"100","endLine":10,"endColumn":17},{"ruleId":"101","severity":1,"message":"108","line":16,"column":8,"nodeType":"103","endLine":16,"endColumn":10,"suggestions":"109"},"no-native-reassign",["110"],"no-negated-in-lhs",["111"],["110"],["111"],"no-unused-vars","'useParams' is defined but never used.","Identifier","unusedVar","react-hooks/exhaustive-deps","React Hook useEffect has a missing dependency: 'history'. Either include it or remove the dependency array.","ArrayExpression",["112"],"'error' is assigned a value but never used.","React Hook useEffect has a missing dependency: 'authState'. Either include it or remove the dependency array. You can also do a functional update 'setAuthState(a => ...)' if you only need 'authState' in the 'setAuthState' call.",["113"],"React Hook useEffect has a missing dependency: 'getUpload'. Either include it or remove the dependency array.",["114"],"no-global-assign","no-unsafe-negation",{"desc":"115","fix":"116"},{"desc":"117","fix":"118"},{"desc":"119","fix":"120"},"Update the dependencies array to be: [history, isAuthenticated]",{"range":"121","text":"122"},"Update the dependencies array to be: [authState]",{"range":"123","text":"124"},"Update the dependencies array to be: [getUpload]",{"range":"125","text":"126"},[709,726],"[history, isAuthenticated]",[1631,1633],"[authState]",[493,495],"[getUpload]"]